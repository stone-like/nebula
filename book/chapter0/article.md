# GoとLLMで作る自作コーディングエージェント `nebula` 開発入門

## この本で何を作るのか

この本では、**自律的にコードを編集するエージェント `nebula`** を一から開発します。

`nebula`は、自然言語の指示を受けて、プロジェクトの構造を理解し、適切なファイルを読み取り、必要な変更を自動的に実装する高度なコーディングエージェントです。単純な質問応答型のAIツールではなく、実際のソフトウェア開発プロジェクトに対して**自律的に判断し、行動する**エージェントを作成します。

## コーディングエージェントに必要なもの

効果的なコーディングエージェントには以下の要素が必要です。

1. **ファイルシステム操作**: プロジェクトの構造を理解し、ファイルの読み書きを行う
2. **安全な実行**: 破壊的な操作を制御し、ユーザーの許可を得る
3. **継続的な学習**: 会話履歴を保持し、セッション間での作業継続
4. **柔軟な思考プロセス**: 計画フェーズと実行フェーズの切り替え

## この本で学べること

この本を通して、以下を学んでいきます。

- **LLMを活用したアプリケーション開発**: OpenAI APIを使用した実践的な開発手法
- **エージェントの思考プロセスの設計**: 自律的な判断と行動を可能にするアーキテクチャ
- **LLMプロンプトエンジニアリング**: 効果的なシステムプロンプトの作成
- **永続化とセッション管理**: SQLiteを使用した会話履歴の保存

## 最終的な完成形のデモ

[ここにdemo動画埋め込み]

**このデモでは以下を実演しています:**
- 自然言語での機能追加指示（「優先度機能を追加して」）
- プロジェクト構造の自動分析（domain/usecase/handler層の理解）
- 複数ファイルの同時編集（todo.go, todo_usecase.go, todo_handler.go）
- 既存コードパターンに合わせた実装

このように、`nebula`は複数のファイルにまたがる複雑な機能追加を自律的に実行します。

*注: デモは学習用の小規模なtodo-appを使用しています*

## 対象読者と必要な準備

### 対象読者
- Go言語の基本的な構文を理解している方
- LLMを活用したアプリケーション開発に興味がある方
- 自動化ツールやエージェントの開発に関心がある方

### 必要な準備

**1. Go言語の環境**
- Go 1.23.1以上（プロジェクトのgo.modで指定）
- インストール: [Go公式サイト](https://golang.org/doc/install)
- 基礎文法: [A Tour of Go](https://tour.golang.org/)（未学習の場合）
- 動作確認: `go version` でバージョン確認

**2. OpenAI API**(Chapter1 で設定方法を説明する予定です。)
- OpenAI API キー（GPT-4.1-nanoおよびGPT-4.1-miniを使用）
- 環境変数 `OPENAI_API_KEY` の設定


:::message alert
⚠️ **重要：OpenAI API使用料金について**
2025年1月現在、OpenAI APIを使用するためには最初に5ドルの支払いが必要です。
本書で使用するGPT-4.1-nano、GPT-4.1-miniは1000回呼び出しても約0.5~0.6ドル程度なので、5ドルを超える心配はほとんどありません。
Auto rechargeをOFFにしておけば追加の支払いも発生しません。
:::

**3. 開発環境**
- エディタ（VS Code、GoLand等）
- Git（バージョン管理）
- ターミナル操作の基本知識

**4. 推奨知識**
- RESTful API設計の基本
- データベース操作（SQLite）
- JSON処理

## 本書の構成

本書は以下の6つの章で構成されています。

1. **Chapter 1**: 基本的なLLM統合とチャット機能
2. **Chapter 2**: Function Calling（関数呼び出し）による初期ツールシステム
3. **Chapter 3**: 高度なファイル操作と検索機能
4. **Chapter 4**: 継続的ツール実行とRead-Modify-Writeパターン
5. **Chapter 5**: モデル選択と構成管理
6. **Chapter 6**: 永続的メモリとセッション管理

それではコーディングエージェント「nebula」の開発をしていきましょう！